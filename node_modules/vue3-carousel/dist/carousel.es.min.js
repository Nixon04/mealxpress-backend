/**
 * Vue 3 Carousel 0.7.1
 * (c) 2024
 * @license MIT
 */
import{Fragment as e,defineComponent as t,inject as a,reactive as l,ref as n,h as i,computed as o,provide as r,onMounted as u,nextTick as s,onUnmounted as c,watch as d,cloneVNode as v}from"vue";const p=["center","start","end","center-even","center-odd"],m=["viewport","carousel"],g=["ltr","left-to-right","rtl","right-to-left","ttb","top-to-bottom","btt","bottom-to-top"],f={itemsToShow:1,itemsToScroll:1,modelValue:0,transition:300,autoplay:0,gap:0,height:"auto",wrapAround:!1,pauseAutoplayOnHover:!1,mouseDrag:!0,touchDrag:!0,snapAlign:p[0],dir:g[0],breakpointMode:m[0],breakpoints:void 0,i18n:{ariaNextSlide:"Navigate to next slide",ariaPreviousSlide:"Navigate to previous slide",ariaNavigateToSlide:"Navigate to slide {slideNumber}",ariaGallery:"Gallery",itemXofY:"Item {currentSlide} of {slidesCount}",iconArrowUp:"Arrow pointing upwards",iconArrowDown:"Arrow pointing downwards",iconArrowRight:"Arrow pointing to the right",iconArrowLeft:"Arrow pointing to the left"}},h={itemsToShow:{default:f.itemsToShow,type:Number},itemsToScroll:{default:f.itemsToScroll,type:Number},wrapAround:{default:f.wrapAround,type:Boolean},gap:{default:f.gap,type:Number},height:{default:f.height,type:Number},snapAlign:{default:f.snapAlign,validator:e=>p.includes(e)},transition:{default:f.transition,type:Number},breakpointMode:{default:f.breakpointMode,validator:e=>m.includes(e)},breakpoints:{default:f.breakpoints,type:Object},autoplay:{default:f.autoplay,type:Number},pauseAutoplayOnHover:{default:f.pauseAutoplayOnHover,type:Boolean},modelValue:{default:void 0,type:Number},mouseDrag:{default:f.mouseDrag,type:Boolean},touchDrag:{default:f.touchDrag,type:Boolean},dir:{default:f.dir,validator:e=>g.includes(e)},i18n:{default:f.i18n,type:Object}};function b({val:e,max:t,min:a}){return t<a?e:Math.min(Math.max(e,a),t)}function w(t){return t?t.reduce(((t,a)=>{var l;return a.type===e?[...t,...w(a.children)]:"CarouselSlide"===(null===(l=a.type)||void 0===l?void 0:l.name)?[...t,a]:t}),[]):[]}function S({val:e,max:t,min:a=0}){const l=t-a+1;return((e-a)%l+l)%l+a}function x(e="",t={}){return Object.entries(t).reduce(((e,[t,a])=>e.replace(`{${t}}`,String(a))),e)}var y,A=t({name:"ARIA",setup(){const e=a("config",l(Object.assign({},f))),t=a("currentSlide",n(0)),o=a("slidesCount",n(0));return()=>i("div",{class:["carousel__liveregion","carousel__sr-only"],"aria-live":"polite","aria-atomic":"true"},x(e.i18n.itemXofY,{currentSlide:t.value+1,slidesCount:o.value}))}}),_=t({name:"Carousel",props:h,setup(e,{slots:t,emit:a,expose:p}){var m;const g=n(null),x=n(null),y=n([]),_=n(0),T=n(0),C=o((()=>Object.assign(Object.assign(Object.assign({},f),e),{i18n:Object.assign(Object.assign({},f.i18n),e.i18n),breakpoints:void 0}))),M=l(Object.assign({},C.value)),N=n(null!==(m=e.modelValue)&&void 0!==m?m:0),O=n(0),k=n(0),L=n(0),j=n(0);let D=null,E=null,z=null;const I=o((()=>_.value+M.gap)),$=o((()=>{const e=M.dir||"lrt";return{"left-to-right":"ltr","right-to-left":"rtl","top-to-bottom":"ttb","bottom-to-top":"btt"}[e]||e})),R=o((()=>["ttb","btt"].includes($.value)));function B(){var t;if(!e.breakpoints)return;const a=("carousel"===M.breakpointMode?null===(t=g.value)||void 0===t?void 0:t.getBoundingClientRect().width:window.innerWidth)||0,l=Object.keys(e.breakpoints||{}).map((e=>Number(e))).sort(((e,t)=>+t-+e));let n=Object.assign({},C.value);l.some((t=>{var l;return a>=t&&(n=Object.assign(Object.assign({},n),null===(l=e.breakpoints)||void 0===l?void 0:l[t]),!0)})),Object.assign(M,n)}r("config",M),r("slidesCount",T),r("currentSlide",N),r("maxSlide",L),r("minSlide",j),r("slideSize",_),r("isVertical",R),r("normalizeDir",$);const V=function(e,t){let a;return function(...l){a&&clearTimeout(a),a=setTimeout((()=>{e(...l),a=null}),t)}}((()=>{B(),U(),X()}),16);function X(){if(!x.value)return;const e=x.value.getBoundingClientRect(),t=(M.itemsToShow-1)*M.gap;R.value?_.value=(e.height-t)/M.itemsToShow:_.value=(e.width-t)/M.itemsToShow}function U(){T.value<=0||(k.value=Math.ceil((T.value-1)/2),L.value=function({config:e,slidesCount:t}){var a;const{snapAlign:l="N/A",wrapAround:n,itemsToShow:i=1}=e;if(n)return Math.max(t-1,0);const o=null!==(a={start:Math.ceil(t-i),end:Math.ceil(t-1),center:t-Math.ceil((i-.5)/2),"center-odd":t-Math.ceil((i-.5)/2),"center-even":t-Math.ceil(i/2)}[l])&&void 0!==a?a:0;return Math.max(o,0)}({config:M,slidesCount:T.value}),j.value=function({config:e,slidesCount:t}){var a;const{snapAlign:l="N/A",wrapAround:n,itemsToShow:i=1}=e;return n||i>t?0:null!==(a={start:0,end:Math.floor(i-1),center:Math.floor((i-1)/2),"center-odd":Math.floor((i-1)/2),"center-even":Math.floor((i-2)/2)}[l])&&void 0!==a?a:0}({config:M,slidesCount:T.value}),M.wrapAround||(N.value=b({val:N.value,max:L.value,min:j.value})))}u((()=>{s((()=>X())),setTimeout((()=>X()),1e3),B(),Z(),window.addEventListener("resize",V,{passive:!0}),z=new ResizeObserver(V),g.value&&z.observe(g.value),a("init")})),c((()=>{E&&clearTimeout(E),D&&clearInterval(D),z&&g.value&&(z.unobserve(g.value),z=null),window.removeEventListener("resize",V,{passive:!0})}));let Y=!1;const P={x:0,y:0},H=l({x:0,y:0}),G=n(!1),q=n(!1),F=()=>{G.value=!0},W=()=>{G.value=!1};function J(e){const t=e.target.tagName;if(["INPUT","TEXTAREA","SELECT"].includes(t)||te.value)return;if(Y="touchstart"===e.type,!Y&&(e.preventDefault(),0!==e.button))return;P.x=Y?e.touches[0].clientX:e.clientX,P.y=Y?e.touches[0].clientY:e.clientY;const a=Y?"touchmove":"mousemove",l=Y?"touchend":"mouseup";document.addEventListener(a,K,{passive:!1}),document.addEventListener(l,Q,{passive:!0})}const K=function(e){let t=!1;return function(...a){t||(t=!0,requestAnimationFrame((()=>{e.apply(this,a),t=!1})))}}((e=>{q.value=!0;const t=Y?e.touches[0].clientX:e.clientX,l=Y?e.touches[0].clientY:e.clientY,n=t-P.x,i=l-P.y;H.x=n,H.y=i,a("drag",{deltaX:n,deltaY:i})}));function Q(){const e=R.value?"y":"x",t=["rtl","btt"].includes($.value)?-1:1,a=.4*Math.sign(H[e]),l=Math.round(H[e]/I.value+a)*t;if(l&&!Y){const e=t=>{t.preventDefault(),window.removeEventListener("click",e)};window.addEventListener("click",e)}ae(N.value-l),H.x=0,H.y=0,q.value=!1;const n=Y?"touchmove":"mousemove",i=Y?"touchend":"mouseup";document.removeEventListener(n,K),document.removeEventListener(i,Q)}function Z(){!M.autoplay||M.autoplay<=0||(D=setInterval((()=>{M.pauseAutoplayOnHover&&G.value||le()}),M.autoplay))}function ee(){D&&(clearInterval(D),D=null),Z()}const te=n(!1);function ae(e){const t=M.wrapAround?e:b({val:e,max:L.value,min:j.value});N.value===t||te.value||(a("slide-start",{slidingToIndex:e,currentSlideIndex:N.value,prevSlideIndex:O.value,slidesCount:T.value}),te.value=!0,O.value=N.value,N.value=t,E=setTimeout((()=>{if(M.wrapAround){const l=S({val:t,max:L.value,min:0});l!==N.value&&(N.value=l,a("loop",{currentSlideIndex:N.value,slidingToIndex:e}))}a("update:modelValue",N.value),a("slide-end",{currentSlideIndex:N.value,prevSlideIndex:O.value,slidesCount:T.value}),te.value=!1,ee()}),M.transition))}function le(){ae(N.value+M.itemsToScroll)}function ne(){ae(N.value-M.itemsToScroll)}const ie={slideTo:ae,next:le,prev:ne};function oe(){B(),U(),X(),ee()}r("nav",ie),r("isSliding",te),Object.keys(h).forEach((t=>{["modelValue"].includes(t)||d((()=>e[t]),oe)})),d((()=>e.modelValue),(e=>{e!==N.value&&ae(Number(e))})),d(T,U),a("before-init");const re={config:M,slidesCount:T,slideSize:_,next:le,prev:ne,slideTo:ae,currentSlide:N,maxSlide:L,minSlide:j,middleSlide:k};p({updateBreakpointsConfig:B,updateSlidesData:U,updateSlideSize:X,restartCarousel:oe,slideTo:ae,next:le,prev:ne,nav:ie,data:re});const ue=t.default||t.slides,se=t.addons,ce=l(re);return()=>{const e=w(null==ue?void 0:ue(ce)),t=(null==se?void 0:se(ce))||[];e.forEach(((e,t)=>e.props.index=t));let a=e;if(M.wrapAround){const t=e.map(((t,a)=>v(t,{index:-e.length+a,isClone:!0,key:`clone-before-${a}`}))),l=e.map(((t,a)=>v(t,{index:e.length+a,isClone:!0,key:`clone-after-${a}`})));a=[...t,...e,...l]}y.value=e,T.value=Math.max(e.length,1);const l=o((()=>{const e=function({config:e,currentSlide:t,slidesCount:a}){const{snapAlign:l="N/A",wrapAround:n,itemsToShow:i=1}=e,o=((e,t)=>{var a;return null!==(a={start:0,center:(t-1)/2,"center-odd":(t-1)/2,"center-even":(t-2)/2,end:t-1}[e])&&void 0!==a?a:0})(l,i);return n?t-o:b({val:t-o,max:a-i,min:0})}({config:M,currentSlide:N.value,slidesCount:T.value}),t=M.wrapAround?T.value:0,a=["rtl","btt"].includes($.value)?-1:1,l=(e+t)*I.value*a,n=R.value?H.y:H.x;return`translate${R.value?"Y":"X"}(${n-l}px)`})),n=i("ol",{class:"carousel__track",style:{transform:l.value,transition:`${te.value?M.transition:0}ms`,gap:`${M.gap}px`},onMousedownCapture:M.mouseDrag?J:null,onTouchstartPassiveCapture:M.touchDrag?J:null},a),r=i("div",{class:"carousel__viewport",ref:x},n);return i("section",{ref:g,class:["carousel",`is-${$.value}`,{"is-vertical":R.value,"is-sliding":te.value,"is-dragging":q.value,"is-hover":G.value}],style:{"--vc-trk-height":`${"number"==typeof M.height?`${M.height}px`:M.height}`},dir:$.value,"aria-label":M.i18n.ariaGallery,tabindex:"0",onMouseenter:F,onMouseleave:W},[r,t,i(A)])}}});!function(e){e.arrowUp="arrowUp",e.arrowDown="arrowDown",e.arrowRight="arrowRight",e.arrowLeft="arrowLeft"}(y||(y={}));const T={arrowUp:"M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z",arrowDown:"M7.41 8.59L12 13.17l4.59-4.58L18 10l-6 6-6-6 1.41-1.41z",arrowRight:"M8.59 16.59L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.41z",arrowLeft:"M15.41 16.59L10.83 12l4.58-4.59L14 6l-6 6 6 6 1.41-1.41z"};const C=e=>{const t=a("config",l(Object.assign({},f))),n=String(e.name),o=`icon${n.charAt(0).toUpperCase()+n.slice(1)}`;if(!n||"string"!=typeof n||!(n in y))return;const r=i("path",{d:T[n]}),u=t.i18n[o]||e.title||n,s=i("title",u);return i("svg",{class:"carousel__icon",viewBox:"0 0 24 24",role:"img","aria-label":u},[s,r])};C.props={name:String,title:String};const M=(e,{slots:t,attrs:o})=>{const{next:r,prev:u}=t||{},s=a("config",l(Object.assign({},f))),c=a("maxSlide",n(1)),d=a("minSlide",n(1)),v=a("normalizeDir",n("ltr")),p=a("currentSlide",n(1)),m=a("nav",{}),{wrapAround:g,i18n:h}=s;return[i("button",{type:"button",class:["carousel__prev",!g&&p.value<=d.value&&"carousel__prev--disabled",null==o?void 0:o.class],"aria-label":h.ariaPreviousSlide,title:h.ariaPreviousSlide,onClick:m.prev},(null==u?void 0:u())||i(C,{name:{ltr:"arrowLeft",rtl:"arrowRight",ttb:"arrowUp",btt:"arrowDown"}[v.value]})),i("button",{type:"button",class:["carousel__next",!g&&p.value>=c.value&&"carousel__next--disabled",null==o?void 0:o.class],"aria-label":h.ariaNextSlide,title:h.ariaNextSlide,onClick:m.next},(null==r?void 0:r())||i(C,{name:{ltr:"arrowRight",rtl:"arrowLeft",ttb:"arrowDown",btt:"arrowUp"}[v.value]}))]},N=()=>{const e=a("config",l(Object.assign({},f))),t=a("maxSlide",n(1)),o=a("minSlide",n(1)),r=a("currentSlide",n(1)),u=a("nav",{}),s=e=>S({val:r.value,max:t.value,min:0})===e,c=[];for(let a=o.value;a<t.value+1;a++){const t=x(e.i18n.ariaNavigateToSlide,{slideNumber:a+1}),l=i("button",{type:"button",class:{"carousel__pagination-button":!0,"carousel__pagination-button--active":s(a)},"aria-label":t,title:t,onClick:()=>u.slideTo(a)}),n=i("li",{class:"carousel__pagination-item",key:a},l);c.push(n)}return i("ol",{class:"carousel__pagination"},c)};var O=t({name:"CarouselSlide",props:{index:{type:Number,default:1},isClone:{type:Boolean,default:!1}},setup(e,{slots:t}){const r=a("config",l(Object.assign({},f))),u=a("currentSlide",n(0)),s=a("slidesToScroll",n(0)),c=a("isSliding",n(!1)),d=a("isVertical",n(!1)),v=a("slideSize",n(0)),p=o((()=>e.index===u.value)),m=o((()=>e.index===u.value-1)),g=o((()=>e.index===u.value+1)),h=o((()=>{const t=Math.floor(s.value),a=Math.ceil(s.value+r.itemsToShow-1);return e.index>=t&&e.index<=a})),b=o((()=>{const e=r.gap?`${v.value}px`:100/r.itemsToShow+"%";return d.value?{height:e,width:""}:{width:e,height:""}}));return()=>{var a;return i("li",{style:b.value,class:{carousel__slide:!0,"carousel__slide--clone":e.isClone,"carousel__slide--visible":h.value,"carousel__slide--active":p.value,"carousel__slide--prev":m.value,"carousel__slide--next":g.value,"carousel__slide--sliding":c.value},"aria-hidden":!h.value},null===(a=t.default)||void 0===a?void 0:a.call(t,{isActive:p.value,isClone:e.isClone,isPrev:m.value,isNext:g.value,isSliding:c.value,isVisible:h.value}))}}});export{_ as Carousel,C as Icon,M as Navigation,N as Pagination,O as Slide};
